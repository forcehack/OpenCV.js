<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./opencv.js" onload="opencvReady()" async></script>
    <script src="./utils.js"></script>
    <style>
    body{
        background-color: #333;
        color: white
    }
    </style>
</head>

<body>
    <h2>Opencv.js Hello World!</h2>
    <p id="opencvOnload">opencv is loading</p>
    <button id="startAndStop" disabled>start</button>
    <p id="errorMessage"></p>
    <table>
        <tr>
            <td>
                <div><img id="canvasInput1" src="./hello.jpg" alt=""></div></canvas></div>
            </td>
            <td>
                <div><canvas width="300px" height="200px" id="canvasInput2"></canvas></div>
            </td>
            <td>
                <div><canvas width="300px" height="200px" id="canvasOutput"></canvas></div>
            </td>
        </tr>
        <tr>
            <td>
                <div>canvas input1</div>
            </td>
            <td>
                <div>canvas input2</div>
            </td>
            <td>
                <div>canvas output</div>
            </td>
        </tr>

    </table>

    <script>

        function opencvReady() {
            let utils = new Utils('errMessage')

            // utils.loadImageToCanvas("/dog.jpg", "canvasInput2")
            // utils.loadImageToCanvas("/hello.jpg", "canvasInput1")

            let src=cv.imread('canvasInput1')
          
            
            let dst = new cv.Mat()
            cv.Canny(src, dst, 50,100);
       
            cv.imshow('canvasOutput', dst)
            
            src.delete()
            dst.delete()
            
     





        }



    </script>
</body>

</html>